<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Expense - BudgetTrip</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #dbeafe 0%, #93c5fd 100%);
            color: #0f172a;
            overflow: hidden;
            height: 100vh;
        }

        .liquid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.5;
            animation: float 10s infinite ease-in-out;
        }

        .blob-1 { top: -10%; left: -10%; width: 500px; height: 500px; background: #60a5fa; animation-delay: 0s; }
        .blob-2 { bottom: -10%; right: -10%; width: 400px; height: 400px; background: #3b82f6; animation-delay: 2s; }
        .blob-3 { top: 40%; left: 40%; width: 300px; height: 300px; background: #0ea5e9; animation-delay: 4s; }

        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0, 0) scale(1); }
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.55);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-radius: 1.5rem;
            box-shadow: 0 10px 40px -10px rgba(30, 58, 138, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }

        .modern-input {
            background-color: rgba(255, 255, 255, 0.7);
            border: 1px solid #93c5fd;
            color: #172554;
            transition: all 0.3s ease;
        }
        .modern-input:focus {
            background-color: #ffffff;
            border-color: #2563eb;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.15);
            outline: none;
        }

        select.modern-input option {
            background-color: #ffffff;
            color: #1e3a8a;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">
<div class="liquid-bg">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
</div>
<div class="glass-panel p-8 w-full max-w-md relative z-10 mx-4 shadow-2xl">

    <div class="text-center mb-8">
        <h2 class="text-2xl font-extrabold text-blue-900">‚úèÔ∏è Edit Expense</h2>
        <p class="text-sm text-slate-600 mt-1 font-medium">Update details for <span class="text-blue-700 underline decoration-blue-300 underline-offset-2" th:text="${expense.title}">Item</span></p>
    </div>

    <form th:action="@{/trips/{tripId}/expenses/{expenseId}/edit(tripId=${trip.id}, expenseId=${expense.id})}" th:object="${expense}" method="post">

        <div class="mb-5">
            <label class="block text-xs font-bold text-blue-800 uppercase mb-1 ml-1 tracking-wider">Title</label>
            <input type="text" th:field="*{title}" class="modern-input w-full px-4 py-3 rounded-xl text-sm font-semibold" required>
        </div>

        <div class="mb-5">
            <label class="block text-xs font-bold text-blue-800 uppercase mb-1 ml-1 tracking-wider">Category</label>
            <select th:field="*{category}" class="modern-input w-full px-4 py-3 rounded-xl text-sm cursor-pointer font-semibold">
                <option value="FLIGHT">‚úàÔ∏è Flight</option>
                <option value="HOTEL">üè® Hotel</option>
                <option value="FOOD">üçî Food</option>
                <option value="ACTIVITY">üì∑ Activity</option>
                <option value="TRANSPORT">üöï Transport</option>
                <option value="OTHER">üì¶ Other</option>
            </select>
        </div>

        <div class="mb-8">
            <label class="block text-xs font-bold text-blue-800 uppercase mb-1 ml-1 tracking-wider">Cost (Rs.)</label>
            <input type="number" step="0.01" th:field="*{cost}" class="modern-input w-full px-4 py-3 rounded-xl text-sm font-bold" required>
        </div>

        <div class="flex gap-3">
            <a th:href="@{/trips/{id}(id=${trip.id})}" class="w-1/2 py-3 rounded-xl bg-white/80 border border-blue-300 text-blue-700 font-bold text-sm hover:bg-blue-50 transition text-center shadow-sm">
                Cancel
            </a>
            <button type="submit" class="w-1/2 py-3 rounded-xl bg-blue-600 text-white font-bold text-sm shadow-lg hover:bg-blue-700 transition transform hover:-translate-y-0.5 border border-blue-500">
                Save Changes
            </button>
        </div>
    </form>
</div>

</body>
</html>